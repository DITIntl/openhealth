<?xml version="1.0"?>
<openerp>
	<data>
		
		<record model="ir.ui.view" id="view_test">
			<field name="name">sale.order.form</field>
			<field name="model">sale.order</field>

			<field name="inherit_id" ref="sale.view_order_form"/>			
	        <field name="mode">primary</field>

	        <field name="priority" eval="1"/>
			<field name="arch" type="xml">



				<!--
				<xpath expr="pass of position" position="the postion">
				-->		

				<!-- Remove -->
				<xpath expr="//field[@name='name']" position="after">
					<div class="oe_right">

							<button 
								type="object" 
								class="oe_highlight"
								string="Eliminar" 

								name="remove_myself" 
							/>
							
					</div>
				</xpath>






				<field name="order_line" position="replace">

					<field name="order_line">

						<tree string="Order Line Tree">
					
    	                	<!--
        	            	<field name="name"/>
							-->


    	                	<field name="product_id" 	string="Producto"/>

        	            	<field name="x_type"/>

        	            	<!--
        	            	<field name="product_uom_qty"	string="Cantidad"/>
							-->

        	            	<!--
            	        	<field name="x_price"/>
            	        	-->
            	        	<field name="x_price_wigv"/>


            	        	<!--
            	        	<field name="x_price_vip"/>
            	        	--> 
            	        	<field name="x_price_vip_wigv"/>


            	        	<!--
            	        	<field name="price_unit"/>
							-->
            	        	<!--
            	        	<field name="tax_id"/>
            	        	<field name="price_subtotal"/>


            	        	<field name="price_total"/>
							--> 





            	        	<field name="x_doctor_name"/>
            	        	<field name="x_appointment_date"/>
            	        	<field name="x_duration"/>

            	        	<field name="x_machine"/>

						</tree>

					</field>





					<field name="vspace"/>
					<!--
					-->
					<group col="3">

						<group>
						</group>

						<group>
						</group>

						<group>
							<field name="x_price_total"/>
							<field name="x_price_vip_total"/>
						</group>
					</group>

				</field>




				<field name="amount_untaxed" position="replace">
				</field>

				<field name="amount_tax" position="replace">
				</field>



				<field name="payment_term_id" position="after">


					<field name="vspace"/>
					<field name="consultation"/>



					<field name="vspace"/>
					<field name="x_doctor"/>

					<field name="x_appointment"/>

					<field name="x_appointment_date"/>
					<field name="x_duration"/>
					<field name="x_machine"/>




					<field name="vspace"/>
					<field name="vspace"/>

					<button 
						type="object" 
						class="oe_highlight"	
						string="Actualizar"
						name="update_order_lines_app" 	
					/>
					



					<button 
						type="object" 
						class="oe_highlight"	
						string="Reservar sala"
						name="reserve_machine" 	
					/>



					<!--
					<button 
						type="object" 
						class="oe_highlight"	

						string="Limpiar"
						
						name="clean_order_lines" 	
					/>
					-->
				</field>
				
				
				
				<field name="partner_id" position="after">
					
					<!--
					<field name="consultation"/>
					<field name="x_nex"/>
					<field name="nr_lines"/>

					<field name="x_state"/>
						
					<field name="patient"/>
					-->
					
					
					<field name="vspace"/>
					<field name="state"		string="Estado"/>


					<field name="vspace"/>
					<field name="x_vip"/>


					
					<!--
					<field name='field_One2many'>
						<tree>
							
						</tree>
					</field>
					-->
						
				</field>
				<!--
				</xpath>
				-->
				
				
			</field>
		</record>
		
		







		
		<!-- Tree view --> 
		<!--
		<record model="ir.ui.view" id="order_tree_view">
		-->
		<record model="ir.ui.view" id="sale.view_order_tree">

			<field name="name">sale.order.tree</field>

			<field name="model">sale.order</field>

			
			<field name="arch" type="xml">
				
				<tree string="Order Tree">
					
					<field name="message_needaction" invisible="1"/>
                    

					<!--
                    <field name="name" string="Order Number"/>

                    <field name="name" string="Presupuesto #"	attrs="{'invisible':[('state', '!=', 'pre-draft')]}"/>
                    
                    <field name="name" string="Factura #"		attrs="{'invisible':[('state', '!=', 'sale')]}"/>
					--> 

                    <field name="name" string="Presupuesto #"/>



                    <!--
                    <field name="id"/>

                    <field name="invoice_status"/>
					-->

                    
                    
                    <field name="partner_id"	string="Paciente"/>
                    
					<field name="x_doctor"/>




                    <field name="user_id"		string="Vendido por"/>
                    
                    <field name="state" invisible="0"	string="Estado"/>
                    
                    <field name="nr_lines"/>


                    <field name="amount_total" sum="Total Tax Included" widget="monetary"/>

                    <field name="date_order"		string="Fecha"/>


                    <field name="x_chief_complaint"/>



                     <!--
                    <field name="consultation"/>

                    <field name="treatment"/>
                    
                    <field name="id"/>
                    -->

					<!--
					<field name="order_line"/>
					-->
				</tree>
			</field>
		</record>


		



		
		<!-- Filter --> 
        <record id="view_medical_order_filter" model="ir.ui.view">
           <field name="name">Order Search</field>

			<!--		   
           <field name="model">sale.order</field>		   
           -->
           <field name="model">sale.order</field>		   
           
		   <field name="arch" type="xml">
               <search string="orders">
                   <field name="consultation" />
               </search>
           </field>
       </record>




		<!-- Window Form Action --> 
		<record model="ir.actions.act_window" id="order_form_action">
			<field name="name">orders</field>
			

			<!--
			<field name="res_model">sale.order</field>
			-->
			<field name="res_model">sale.order</field>
			

			<field name="view_type">form</field>
			
			<field name="view_mode">tree,form</field>
			
			<!--
            <field name="domain">[]</field>
            <field name="context">{}</field>
            <field name="view_id" eval="False"/>
			<field name="help" type="html">
				<p class="oe_view_nocontent_create">Create the first order
				</p>
			</field>
			-->
		</record>
		
		
		
		



		<!-- Window List action -->
		<!--
		The following tag is an action definition for a "window action",
		that is an action opening a view or a set of views
		-->
		<record model="ir.actions.act_window" id="order_list_action">

			<field name="name">Orders</field>

			<!--
			<field name="res_model">sale.order</field>
			-->
			<field name="res_model">sale.order</field>
			
			
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			
			
			<!--
            <field name="domain">[]</field>
            <field name="context">{}</field>
            <field name="view_id" eval="False"/>
			
			<field name="help" type="html">
				<p class="oe_view_nocontent_create">Create the first order
				</p>
			</field>
			-->
		</record>
		
		


		<!--
		<record id="user_group_id" model="res.groups">
    		<field name="name">Open Health User Group</field>
    		<field name="category_id" ref="base.module_category_sales_management"/>
		</record>
		-->



		<!-- Menus --> 
		<!-- top level menu: no parent -->
		<menuitem id="main_openextension_menu" name="Open Health"/>

		<!-- A first level in the left side menu is needed
		before using action= attribute -->
		<menuitem id="openextension_menu" name="Open Health"
			parent="main_openextension_menu"/>

		<!-- the following menuitem should appear *after*
		its parent openextension_menu and *after* its
		action order_list_action -->
		<!--
		<menuitem id="orders_menu" name="Treatments" parent="openextension_menu"
		-->


		<!--
		<menuitem id="orders_menu" name="Presupuestos jx" parent="openextension_menu"
			action="order_list_action"  group="group_openhealth_user"/>
		-->
		<menuitem id="orders_menu" name="Presupuestos jx" parent="openextension_menu"
			action="order_list_action"/>



		<!-- Full id location:
		action="openextension.order_list_action"
		It is not required when it is the same module -->

	</data>
</openerp>
