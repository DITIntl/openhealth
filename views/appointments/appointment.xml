<?xml version="1.0"?>
<openerp>
	<data>



		<record model="ir.ui.view" id="view_appointment">
			<field name="name">oeh.medical.appointment.form</field>
			<field name="model">oeh.medical.appointment</field>

			<field name="inherit_id" ref="oehealth.oeh_medical_appointment_view"/>			

	        <field name="mode">primary</field>

	        <field name="priority" eval="1"/>
			<field name="arch" type="xml">




				<xpath expr="//field[@name='institution']" position="replace">
					<!--
					<field name="x_duration_min"	widget="progressbar"/>
					<field name="x_duration_min"	attrs="{'invisible':[('x_type', '!=', 'session')]}"/>


					<field name="x_duration_min"	attrs="{'readonly':[('x_type', '!=', 'session')]}"/>

					-->
					<field name="x_duration_min"	attrs="{	'readonly':[('x_type', '!=', 'session')], 
																'invisible':[('x_type', '!=', 'session')]	}"/>
					


				</xpath>





				<xpath expr="//field[@name='patient_status']" position="replace">
					<!--
					<field name="appointment_end"	readonly="1"/>
					-->
					<field name="appointment_end"	/>
				</xpath>





				<xpath expr="//field[@name='duration']" position="replace">
					<!--
					<field name="duration"	widget="progressbar"/>

					-->
					
					<field name="duration"		/>
				
				</xpath>




				<!--
				<xpath expr="//field[@name='patient_status']" position="replace">
				</xpath>
				-->

				<xpath expr="//field[@name='urgency_level']" position="replace">
				</xpath>


				<!--
				<xpath expr="//field[@name='description']" position="after">

				<xpath expr="//field[@name='patient_status']" position="after">
				-->

				<xpath expr="//notebook" position="before">
				<!--
				<field name="patient_status" position="after">
				-->

					<group col="2">

					<!--
					-->

						<group >

							<!--
							<field name="evaluation_ids"/>
							<field name="x_date"/>

							<field name="x_error"/>
							<field name="state"		readonly="0"/>

							<field name="x_type_cal"/>

							-->



							<field name="state"/>


							<field name="vspace"/>




							<field name="x_type"/>



							<field name="treatment"/>


							<field name="consultation"	attrs="{'invisible':[('x_type', '!=', 'consultation')]}"/>

							<field name="procedure"   	attrs="{'invisible':[('x_type', '!=', 'procedure')]}"/>

							<field name="session"		attrs="{'invisible':[('x_type', '!=', 'session')]}"/>

							<field name="control"		attrs="{'invisible':[('x_type', '!=', 'control')]}"/>

						</group>




						<group>
							<!--
							<calendar string="Calendar"  	date_start="appointment_date" date_delay="duration"  display="[patient]"   
															color="color_doctor_id"   quick_add="False" mode="day">
				            	<field name="patient"/>       
        					</calendar>
							-->

							<field name="vspace"/>

							<field name="x_create_procedure_automatic"	attrs="{'invisible':[('x_type', '!=', 'consultation')]}"  />

							<field name="x_chief_complaint"/>
						</group>



					</group>

				<!--
				</field>
				-->
				</xpath>



			</field>
		</record>






		<!-- service tree/list view -->
		<record model="ir.ui.view" id="oehealth.oeh_medical_appointment_tree">

			<field name="name">oeh.medical.appointment.tree</field>

			<field name="model">oeh.medical.appointment</field>
			
			
			<field name="type">tree</field>

			<field name="priority" eval="1"/>


			<field name="arch" type="xml">
				

				<tree string="Appointment Tree">
				

					<!--
					<field name="x_patient_name_first"/>
					<field name="id"/>
					<field name="x_doctor_code"/>
					<field name="x_type_cal"/>
					-->


					<field name="name"/>




					<field name="patient"/>




					<field name="doctor"/>



					<field name="state"/>



					<field name="x_type"/>


					<field name="duration"/>

					<!--
					<field name="x_duration_min"/>
					-->




					<field name="treatment"/>
					<field name="consultation"/>
					<!--
					<field name="procedure"/>
					-->
					<field name="session"/>
					<field name="control"/>


					<!--
					<field name="x_date"/>
					-->
					
					<field name="appointment_date"/>
					<field name="appointment_end"/>


					
					<!--
					<field name="appointment_end"/>
					<field name="evaluation_ids"/>
					-->




					<!--
					<field name="x_name_short"/>
					<field name="id"/>

					<field name="x_family"/>

					<field name="x_date_updated"/>
					<field name="list_price"/>
					<field name="x_price_vip"/>

					-->




					<!--
					<field name="x_treatment"/>				
					<field name="x_zone"/>				
					<field name="x_pathology"/>				
					



					-->

					

					<!--
					<field name="standard_price"/>				

					<field name="volume"/>				
				
					<field name="weight"/>				

					<field name="categ_id"/>				
					-->

				</tree>
			</field>
		</record>







		<!-- Window action -->
		<record model="ir.actions.act_window" id="oeh_medical_appointment_list_action">
			<field name="name">Citas</field>
			<field name="res_model">oeh.medical.appointment</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>

			<!--
            
            <field name="domain">[
									('type', '=', 'service'),
									('x_treatment', '=', 'laser_co2'),
            					]</field>


			<field name="context">{

									'order': 'x_name_short'

									'default_patient': 3025,	

									}	



									'default_patient': patient_id,	
			-->

			<field name="context">{


									}	
			</field>

		</record>





		<!-- Menu -->
		<menuitem id="oeh_medical_appointment_menu" name="Citas"
			parent="openhealth_menu"
			action="oeh_medical_appointment_list_action"/>




	</data>
</openerp>
